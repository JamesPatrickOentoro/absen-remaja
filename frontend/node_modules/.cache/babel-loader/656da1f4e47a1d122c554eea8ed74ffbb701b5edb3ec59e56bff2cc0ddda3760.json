{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'StudentsList',\n  data() {\n    return {\n      students: [],\n      searchName: '',\n      filterStatus: ''\n    };\n  },\n  created() {\n    this.fetchStudents();\n  },\n  methods: {\n    async fetchStudents() {\n      try {\n        const response = await axios.get('absen/all-students');\n        console.log(response);\n        this.students = response.data;\n      } catch (error) {\n        console.error('Error fetching absents:', error);\n      }\n    },\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      const day = date.getDate().toString().padStart(2, '0');\n      const month = (date.getMonth() + 1).toString().padStart(2, '0');\n      const year = date.getFullYear();\n      return `${day}-${month}-${year}`;\n    },\n    searchStudents() {\n      this.fetchStudents();\n    },\n    confirmUpdateAcademicYear() {\n      if (confirm(\"Are you sure you want to update the academic year? This action cannot be undone.\")) {\n        this.updateAcademicYear();\n      }\n    },\n    updateAcademicYear() {\n      axios.post('absen/academic-year').then(response => {\n        if (response.data.status === 'success') {\n          alert(\"Academic year updated successfully.\");\n        } else {\n          alert(\"Failed to update academic year.\");\n        }\n      }).catch(error => {\n        console.error(\"Error updating academic year:\", error);\n        alert(\"An error occurred while updating the academic year.\");\n      });\n    },\n    editStudent(student) {\n      this.editedStudent = {\n        ...student\n      };\n      this.showEditModal = true;\n    },\n    submitEditForm() {\n      axios.post('absen/edit-data-jemaat', this.editedStudent).then(() => {\n        const updatedStudentIndex = this.students.findIndex(student => student.id_jemaat === this.editedStudent.id_jemaat);\n        if (updatedStudentIndex !== -1) {\n          this.students[updatedStudentIndex] = {\n            ...this.editedStudent\n          };\n        }\n        this.showEditModal = false;\n        this.editedStudent = {\n          nama: '',\n          email: '',\n          no_telp: '',\n          gender: '',\n          hobi: '',\n          sekolah: '',\n          tgl_lahir: '',\n          temp_lahir: '',\n          no_telp_ortu: '',\n          kelas: '',\n          daerah: '',\n          kecamatan: '',\n          alamat: '',\n          foto: 'nanana',\n          status: ''\n        };\n      }).catch(error => {\n        console.error('Error updating student data:', error);\n      });\n    },\n    deleteStudent(studentId) {\n      axios.delete(`absen/delete-jemaat?id_jemaat=${studentId}`).then(() => {\n        this.students = this.students.filter(student => student.id_jemaat !== studentId);\n      }).catch(error => {\n        console.error('Error deleting student:', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","students","searchName","filterStatus","created","fetchStudents","methods","response","get","console","log","error","formatDate","dateString","date","Date","day","getDate","toString","padStart","month","getMonth","year","getFullYear","searchStudents","confirmUpdateAcademicYear","confirm","updateAcademicYear","post","then","status","alert","catch","editStudent","student","editedStudent","showEditModal","submitEditForm","updatedStudentIndex","findIndex","id_jemaat","nama","email","no_telp","gender","hobi","sekolah","tgl_lahir","temp_lahir","no_telp_ortu","kelas","daerah","kecamatan","alamat","foto","deleteStudent","studentId","delete","filter"],"sources":["D:\\New folder\\absen-remaja\\frontend\\src\\components\\Students.vue"],"sourcesContent":["Here's the adjusted style for the `students.vue` file to match the style of `studentattendance.vue`:\r\n\r\n```vue\r\n<template>\r\n    <div class=\"container\">\r\n        <div class=\"header\">\r\n            <h3>Students</h3>\r\n            <div class=\"filter-bar\">\r\n                <div class=\"filter-item\">\r\n                    <label>Name</label>\r\n                    <input type=\"text\" v-model=\"searchName\" placeholder=\"Enter name\">\r\n                </div>\r\n                <div class=\"filter-item\">\r\n                    <label>Status</label>\r\n                    <select v-model=\"filterStatus\" @change=\"filterData\">\r\n                        <option value=\"\">All</option>\r\n                        <option value=\"active\">Active</option>\r\n                        <option value=\"inactive\">Inactive</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"filter-item\">\r\n                    <button @click=\"searchStudents\">Search</button>\r\n                    <button @click=\"generateSheet\">Generate Sheet</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"table-container\">\r\n            <table class=\"table\">\r\n                <thead style=\"position: sticky;top:0;background: #ccc;\">\r\n                    <tr>\r\n                        <th scope=\"col\">Student Name</th>\r\n                        <th scope=\"col\">Birthdate</th>\r\n                        <th scope=\"col\">Class</th>\r\n                        <th scope=\"col\">Phone</th>\r\n                        <th scope=\"col\">Gender</th>\r\n                        <th scope=\"col\">Status</th>\r\n                        <th scope=\"col\">Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"(student, index) in students\" :key=\"index\">\r\n                        <td>{{ student.nama }}</td>\r\n                        <td>{{ formatDate(student.tgl_lahir) }}</td>\r\n                        <td>{{ student.kelas }}</td>\r\n                        <td>{{ student.no_telp }}</td>\r\n                        <td>{{ student.gender }}</td>\r\n                        <td>{{ student.status }}</td>\r\n                        <td>\r\n                            <button @click=\"editStudent(student)\" class=\"btn btn-primary\">\r\n                                <i class=\"bi bi-pencil-square\"></i>\r\n                            </button>\r\n                            <button @click=\"deleteStudent(student.id_jemaat)\" class=\"btn btn-danger\">\r\n                                <i class=\"bi bi-trash\"></i>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <div class=\"update-academic-year\">\r\n            <button @click=\"confirmUpdateAcademicYear\" class=\"btn btn-warning\">\r\n                Update Academic Year\r\n            </button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    name: 'StudentsList',\r\n    data() {\r\n        return {\r\n            students: [],\r\n            searchName: '',\r\n            filterStatus: '',\r\n        };\r\n    },\r\n    created() {\r\n        this.fetchStudents();\r\n    },\r\n    methods: {\r\n        async fetchStudents() {\r\n            try {\r\n                const response = await axios.get('absen/all-students');\r\n                console.log(response);\r\n                this.students = response.data;\r\n            } catch (error) {\r\n                console.error('Error fetching absents:', error);\r\n            }\r\n        },\r\n        formatDate(dateString) {\r\n            const date = new Date(dateString);\r\n            const day = date.getDate().toString().padStart(2, '0');\r\n            const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n            const year = date.getFullYear();\r\n            return `${day}-${month}-${year}`;\r\n        },\r\n        searchStudents() {\r\n            this.fetchStudents();\r\n        },\r\n        confirmUpdateAcademicYear() {\r\n            if (confirm(\"Are you sure you want to update the academic year? This action cannot be undone.\")) {\r\n                this.updateAcademicYear();\r\n            }\r\n        },\r\n        updateAcademicYear() {\r\n            axios.post('absen/academic-year')\r\n                .then(response => {\r\n                    if (response.data.status === 'success') {\r\n                        alert(\"Academic year updated successfully.\");\r\n                    } else {\r\n                        alert(\"Failed to update academic year.\");\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.error(\"Error updating academic year:\", error);\r\n                    alert(\"An error occurred while updating the academic year.\");\r\n                });\r\n        },\r\n        editStudent(student) {\r\n            this.editedStudent = { ...student };\r\n            this.showEditModal = true;\r\n        },\r\n        submitEditForm() {\r\n            axios.post('absen/edit-data-jemaat', this.editedStudent)\r\n                .then(() => {\r\n                    const updatedStudentIndex = this.students.findIndex(student => student.id_jemaat === this.editedStudent.id_jemaat);\r\n                    if (updatedStudentIndex !== -1) {\r\n                        this.students[updatedStudentIndex] = { ...this.editedStudent };\r\n                    }\r\n                    this.showEditModal = false;\r\n                    this.editedStudent = {\r\n                        nama: '',\r\n                        email: '',\r\n                        no_telp: '',\r\n                        gender: '',\r\n                        hobi: '',\r\n                        sekolah: '',\r\n                        tgl_lahir: '',\r\n                        temp_lahir: '',\r\n                        no_telp_ortu: '',\r\n                        kelas: '',\r\n                        daerah: '',\r\n                        kecamatan: '',\r\n                        alamat: '',\r\n                        foto: 'nanana',\r\n                        status: ''\r\n                    };\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error updating student data:', error);\r\n                });\r\n        },\r\n        deleteStudent(studentId) {\r\n            axios.delete(`absen/delete-jemaat?id_jemaat=${studentId}`)\r\n                .then(() => {\r\n                    this.students = this.students.filter(student => student.id_jemaat !== studentId);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error deleting student:', error);\r\n                });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n    padding: 20px;\r\n    background-color: #fff;\r\n    border-radius: 8px;\r\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n    margin: 20px auto;\r\n    max-width: 1200px;\r\n    font-family: Arial, sans-serif;\r\n}\r\n\r\n.header {\r\n    margin-bottom: 20px;\r\n}\r\n\r\nh3 {\r\n    font-size: 24px;\r\n    margin-bottom: 20px;\r\n    color: #333;\r\n}\r\n\r\n.filter-bar {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 15px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.filter-item {\r\n    flex: 1;\r\n    min-width: 200px;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.filter-item label {\r\n    margin-bottom: 5px;\r\n    font-weight: bold;\r\n    color: #555;\r\n}\r\n\r\n.filter-item input,\r\n.filter-item select {\r\n    padding: 10px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    font-size: 14px;\r\n    color: #333;\r\n}\r\n\r\n.filter-item input:focus,\r\n.filter-item select:focus {\r\n    border-color: #007bff;\r\n    outline: none;\r\n}\r\n\r\n.filter-item button {\r\n    padding: 10px 15px;\r\n    border: none;\r\n    border-radius: 4px;\r\n    background-color: #007bff;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    margin-top: 5px;\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}